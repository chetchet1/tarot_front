# 250828-2 비밀번호 재설정 수정

## 작업 날짜
2025년 8월 28일

## 수정 사항

### 1. 프로젝트 구조 확인
- **Vite + Vue 3 + Vue Router** 프로젝트 (Nuxt 아님)
- Capacitor로 래핑된 하이브리드 앱
- App ID: `com.tarotgarden.app`
- 라우터 설정은 Vue Router 사용으로 문제없음

### 2. Vercel 배포 불필요
- 앱은 Google Play Store에 배포
- 앱 내부에서 모든 라우팅 처리
- 웹 배포 필요없음

### 3. Deep Link 설정
**AndroidManifest.xml 수정**
- 비밀번호 재설정용 인텐트 필터 추가
- Scheme: `com.tarotgarden.app`
- Host: `auth`
- Path: `/reset-password`

### 4. Supabase 설정 필요
**Supabase 대시보드에서 설정해야 할 내용:**

1. **Authentication → URL Configuration**
   - Site URL: `com.tarotgarden.app://auth/reset-password`
   - Redirect URLs에 추가:
     ```
     com.tarotgarden.app://auth/reset-password
     com.tarotgarden.app://auth/callback
     ```

2. **Email Templates → Reset Password**
   - 재설정 링크 URL을 `com.tarotgarden.app://auth/reset-password` 형식으로 변경

### 5. 작동 방식
1. 사용자가 비밀번호 재설정 요청
2. Supabase가 이메일로 `com.tarotgarden.app://auth/reset-password#access_token=...` 링크 전송
3. 링크 클릭 시 앱이 열리면서 `/auth/reset-password` 라우트로 이동
4. PasswordReset.vue 컴포넌트에서 토큰 처리 및 비밀번호 변경

### 6. 테스트 방법
1. 앱 빌드: `npm run build:cap`
2. Android 동기화: `npx cap sync android`
3. Android Studio에서 실행
4. 비밀번호 재설정 테스트

## 중요 사항
- ✅ Vercel 배포 불필요 (앱 내부 처리)
- ✅ Deep Link 설정 완료
- ⚠️ **Supabase 대시보드 설정 필요** (수동 작업)

## Git 커밋
- AndroidManifest.xml 수정 커밋 필요