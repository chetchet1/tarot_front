<template>
  <div class="app">
    <!-- ì›¹ì—ì„œ ì§ì ‘ ì ‘ì†í•œ ê²½ìš° -->
    <div v-if="!isSharedPage" class="web-landing">
      <div class="container">
        <h1>ğŸ”® íƒ€ë¡œì¹´ë“œ ì•±</h1>
        <p>ëª¨ë°”ì¼ ì•±ì—ì„œ ì´ìš©í•´ì£¼ì„¸ìš”!</p>
        
        <div class="download-section">
          <h2>ğŸ“± ì•± ë‹¤ìš´ë¡œë“œ</h2>
          <button @click="downloadAPK" class="download-btn">
            Android APK ë‹¤ìš´ë¡œë“œ
          </button>
          <p class="info">iOSëŠ” ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤</p>
        </div>
        
        <div class="features">
          <h3>âœ¨ ì£¼ìš” ê¸°ëŠ¥</h3>
          <ul>
            <li>ë¬´ë£Œ íƒ€ë¡œ ì ë³´ê¸°</li>
            <li>AI í•´ì„</li>
            <li>ì˜¤ëŠ˜ì˜ ìš´ì„¸</li>
            <li>íˆìŠ¤í† ë¦¬ ì €ì¥</li>
          </ul>
        </div>
      </div>
    </div>
    
    <!-- ê³µìœ  í˜ì´ì§€ëŠ” ì •ìƒ í‘œì‹œ -->
    <router-view v-else />
  </div>
</template>

<script setup>
import { computed } from 'vue';
import { useRoute } from 'vue-router';
import { Capacitor } from '@capacitor/core';

const route = useRoute();

// ê³µìœ  í˜ì´ì§€ì¸ì§€ í™•ì¸
const isSharedPage = computed(() => {
  return route.path.startsWith('/s/');
});

// APK ë‹¤ìš´ë¡œë“œ
const downloadAPK = () => {
  // APK íŒŒì¼ì„ Vercel public í´ë”ì— ì—…ë¡œë“œí•˜ê³  ë§í¬ ì œê³µ
  window.location.href = '/download/tarot-app.apk';
};

// ë„¤ì´í‹°ë¸Œ ì•±ì´ë©´ ì •ìƒ ì‘ë™
if (Capacitor.isNativePlatform()) {
  // APKì—ì„œëŠ” ëª¨ë“  ê¸°ëŠ¥ ì •ìƒ ì‘ë™
}
</script>

<style scoped>
.web-landing {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  text-align: center;
}

.download-btn {
  background: white;
  color: #667eea;
  padding: 15px 30px;
  border-radius: 30px;
  font-size: 18px;
  font-weight: bold;
  border: none;
  cursor: pointer;
  margin: 20px 0;
}

.download-btn:hover {
  transform: scale(1.05);
}

.features {
  margin-top: 40px;
  text-align: left;
  max-width: 300px;
  margin: 40px auto 0;
}

.features ul {
  list-style: none;
  padding: 0;
}

.features li {
  padding: 10px 0;
  border-bottom: 1px solid rgba(255,255,255,0.2);
}

.features li:before {
  content: "âœ“ ";
  color: #4ade80;
  font-weight: bold;
}
</style>
